{"version":3,"sources":["../../../src/lib/auth/index.ts"],"names":["auth","betterAuth","env","drizzleAdapter","db","user","session","verification","account"],"mappings":"0MAMaA,MAAAA,CAAAA,CAAOC,WAAW,CAC7B,MAAA,CAAQC,GAAI,CAAA,kBAAA,CACZ,QAAUC,CAAAA,cAAAA,CAAeC,EAAI,CAE3B,QAAA,CAAU,IAIV,CAAA,MAAA,CAAQ,CACN,IAAA,CAAAC,KACA,OAAAC,CAAAA,OAAAA,CACA,YAAAC,CAAAA,YAAAA,CACA,OAAAC,CAAAA,OACF,CACF,CAAC,CAAA,CACD,gBAAkB,CAAA,CAChB,OAAS,CAAA,IACX,EACA,eAAiB,CAAA,CAKf,MAAQ,CAAA,CACN,QAAUN,CAAAA,GAAAA,CAAI,iBACd,YAAcA,CAAAA,GAAAA,CAAI,oBAClB,CAAA,WAAA,CACEA,GAAI,CAAA,WAAA,GAAgB,cAChB,gDACAA,CAAAA,GAAAA,CAAI,WAAgB,GAAA,SAAA,CACpB,uDACA,CAAA,2CACR,CACF,CACA,CAAA,cAAA,CAAgB,CAACA,GAAAA,CAAI,cAAe,CAAA,CAEpC,SACEA,GAAI,CAAA,WAAA,GAAgB,aAChB,CAAA,MAAA,CACA,CACE,gBAAA,CAAkB,KAClB,qBAAuB,CAAA,CACrB,OAAS,CAAA,IAAA,CACT,MAAQ,CAAA,WACV,EACA,uBAAyB,CAAA,CACvB,MAAQ,CAAA,IAAA,CACR,QAAU,CAAA,IAAA,CACV,QAAU,CAAA,MAAA,CACV,WAAa,CAAA,IACf,CACF,CACR,CAAC","file":"index.js","sourcesContent":["import { betterAuth } from \"better-auth\";\nimport { drizzleAdapter } from \"better-auth/adapters/drizzle\";\nimport { account, session, user, verification } from \"../db/schema\";\nimport db from \"../db\";\nimport { env } from \"../env\";\n\nexport const auth = betterAuth({\n  secret: env.BETTER_AUTH_SECRET!,\n  database: drizzleAdapter(db, {\n    // We're using Drizzle as our database\n    provider: \"pg\",\n    /*\n     * Map your schema into a better-auth schema\n     */\n    schema: {\n      user,\n      session,\n      verification,\n      account,\n    },\n  }),\n  emailAndPassword: {\n    enabled: true, // If you want to use email and password auth\n  },\n  socialProviders: {\n    /*\n     * We're using Google and Github as our social provider,\n     * make sure you have set your environment variables\n     */\n    google: {\n      clientId: env.GOOGLE_CLIENT_ID!,\n      clientSecret: env.GOOGLE_CLIENT_SECRET!,\n      redirectURI:\n        env.ENVIRONMENT === \"development\"\n          ? \"http://localhost:4000/api/auth/callback/google\"\n          : env.ENVIRONMENT === \"staging\"\n          ? \"https://api-staging.evaly.io/api/auth/callback/google\"\n          : \"https://evaly.io/api/auth/callback/google\",\n    },\n  },\n  trustedOrigins: [env.WEB_PUBLIC_URL!],\n\n  advanced:\n    env.ENVIRONMENT === \"development\"\n      ? undefined\n      : {\n          useSecureCookies: true,\n          crossSubDomainCookies: {\n            enabled: true,\n            domain: \".evaly.io\",\n          },\n          defaultCookieAttributes: {\n            secure: true,\n            httpOnly: true,\n            sameSite: \"none\",\n            partitioned: true,\n          },\n        },\n});\n"]}