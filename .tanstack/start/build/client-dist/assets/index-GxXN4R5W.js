import{r,ah as M,a2 as O}from"./main-Cf9OxwIv.js";function L(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var p=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},S=M[" useInsertionEffect ".trim().toString()]||p;function b({prop:n,defaultProp:e,onChange:t=()=>{},caller:o}){const[s,u,d]=I({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:s;{const c=r.useRef(n!==void 0);r.useEffect(()=>{const f=c.current;f!==a&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,o])}const i=r.useCallback(c=>{var f;if(a){const m=P(c)?c(n):c;m!==n&&((f=d.current)==null||f.call(d,m))}else u(c)},[a,n,u,d]);return[l,i]}function I({defaultProp:n,onChange:e}){const[t,o]=r.useState(n),s=r.useRef(t),u=r.useRef(e);return S(()=>{u.current=e},[e]),r.useEffect(()=>{var d;s.current!==t&&((d=u.current)==null||d.call(u,t),s.current=t)},[t,s]),[t,o,u]}function P(n){return typeof n=="function"}function D(n){const e=r.useRef(n);return r.useEffect(()=>{e.current=n}),r.useMemo(()=>(...t)=>{var o;return(o=e.current)==null?void 0:o.call(e,...t)},[])}var T=M[" useId ".trim().toString()]||(()=>{}),w=0;function F(n){const[e,t]=r.useState(T());return p(()=>{t(o=>o??String(w++))},[n]),n||(e?`radix-${e}`:"")}function E(n,e){return r.useReducer((t,o)=>e[t][o]??t,n)}var h=n=>{const{present:e,children:t}=n,o=U(e),s=typeof t=="function"?t({present:o.isPresent}):r.Children.only(t),u=O(o.ref,y(s));return typeof t=="function"||o.isPresent?r.cloneElement(s,{ref:u}):null};h.displayName="Presence";function U(n){const[e,t]=r.useState(),o=r.useRef(null),s=r.useRef(n),u=r.useRef("none"),d=n?"mounted":"unmounted",[a,l]=E(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const i=A(o.current);u.current=a==="mounted"?i:"none"},[a]),p(()=>{const i=o.current,c=s.current;if(c!==n){const m=u.current,N=A(i);n?l("MOUNT"):N==="none"||(i==null?void 0:i.display)==="none"?l("UNMOUNT"):l(c&&m!==N?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,l]),p(()=>{if(e){let i;const c=e.ownerDocument.defaultView??window,f=N=>{const R=A(o.current).includes(N.animationName);if(N.target===e&&R&&(l("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",i=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},m=N=>{N.target===e&&(u.current=A(o.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(i),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:r.useCallback(i=>{o.current=i?getComputedStyle(i):null,t(i)},[])}}function A(n){return(n==null?void 0:n.animationName)||"none"}function y(n){var o,s;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}export{h as P,p as a,b,F as c,L as d,D as u};
