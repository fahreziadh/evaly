import{d as h,i as b,h as f,g as c,f as v,r as y,j as e,c as N,B as i,C as u,P as k,Q as C,e as q,o as x,T as L}from"./main-DlyImwyW.js";import{B as n}from"./badge-DCUqPuCj.js";import{T as w,a as T,b as l}from"./tabs-BbPEs7QD.js";import{C as m}from"./circle-plus-BRxeZ5d9.js";import{P}from"./package-CUUSpu84.js";import{T as _}from"./trash-2-kkRBDm4f.js";import"./index-cFAMEy_e.js";import"./index-D8u25tJ8.js";import"./index-CDpRp4ge.js";import"./index-D1zo_IBC.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],M=h("folder-open",A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],H=h("wand-sparkles",z);x.extend(L);function V(){const r=b(),a=f(c.organizer.questionLibrary.getAll),p=v(c.organizer.questionLibrary.deleteById),[j,o]=y.useState(null),g=async s=>{if(confirm("Are you sure you want to delete this question library? All questions in this library will also be deleted."))try{o(s),await p({id:s})}catch(t){console.error("Failed to delete question library:",t),alert("Failed to delete question library. Please try again.")}finally{o(null)}},d=s=>!s||s.length===0?null:s.slice(0,3).join(", ")+(s.length>3?"...":"");return a===void 0?e.jsx(N,{}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"dashboard-title",children:"Question Libraries"}),e.jsxs("h2",{className:"dashboard-description",children:["Organize your questions into reusable libraries (",a.length,")"]})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(i,{variant:"outline",disabled:!0,children:[e.jsx(H,{})," Generate with AI"]}),e.jsxs(i,{onClick:()=>{r({to:"/app/questions/template",search:{mode:"bank"}})},children:[e.jsx(m,{})," Create Library"]})]})]}),e.jsxs("div",{className:"dashboard-margin",children:[e.jsx(w,{defaultValue:"all",children:e.jsxs(T,{children:[e.jsxs(l,{value:"all",children:["All Libraries (",a.length,")"]}),e.jsx(l,{value:"public",disabled:!0,children:"Public Libraries"}),e.jsx(l,{value:"ai-generated",disabled:!0,children:"AI Generated"})]})}),e.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.length===0?e.jsxs(u,{className:"col-span-full p-8 text-center",children:[e.jsx(P,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No question libraries yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first question library to organize and reuse questions."}),e.jsxs(i,{onClick:()=>{r({to:"/app/questions/template",search:{mode:"bank"}})},children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Create Question Library"]})]}):a.map(s=>e.jsxs(u,{className:"hover:border-primary/30 group relative cursor-pointer transition-colors",onClick:()=>{r({to:"/app/questions/library",search:{bankId:s._id}})},children:[e.jsx(k,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(C,{className:"text-lg flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-primary"}),s.title]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description.length>80?s.description.substring(0,80)+"...":s.description})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(i,{variant:"ghost",size:"icon-sm",onClick:t=>{t.preventDefault(),t.stopPropagation(),g(s._id)},disabled:j===s._id,children:e.jsx(_,{className:"h-4 w-4 text-destructive"})})})]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(n,{variant:"secondary",children:[s.questionCount," questions"]}),s.isPublic&&e.jsx(n,{variant:"outline",children:"Public"}),d(s.tags||[])&&e.jsx(n,{variant:"outline",children:d(s.tags||[])})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Created ",x(s._creationTime).fromNow()]})})]})]},s._id))})]})]})}export{V as component};
