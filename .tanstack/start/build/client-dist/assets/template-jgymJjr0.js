import{i as w,a4 as N,f as u,g as h,r as i,j as e,B as n,V as k,C as x,P as q,Q,e as S}from"./main-Cf9OxwIv.js";import{I as T}from"./input-CmcoE0j1.js";import{T as L}from"./textarea-COU2Zv26.js";import{L as y}from"./label-D8wDE7WX.js";import{P as B}from"./package-reAfG7ir.js";import"./index-CQ75r9EK.js";const F=[{type:"multiple-choice",name:"Multiple Choice",description:"Choose from multiple options with one or more correct answers",icon:"📝"},{type:"yes-or-no",name:"Yes/No",description:"Simple binary choice question",icon:"✅"},{type:"text-field",name:"Text Field",description:"Open-ended text response",icon:"💬"},{type:"file-upload",name:"File Upload",description:"Allow participants to upload files",icon:"📎"},{type:"fill-the-blank",name:"Fill the Blank",description:"Complete sentences with missing words",icon:"⬜"},{type:"audio-response",name:"Audio Response",description:"Record audio answers",icon:"🎵"},{type:"video-response",name:"Video Response",description:"Record video answers",icon:"🎥"},{type:"dropdown",name:"Dropdown",description:"Select from dropdown options",icon:"📋"},{type:"matching-pairs",name:"Matching Pairs",description:"Match related items together",icon:"🔗"},{type:"slider-scale",name:"Slider Scale",description:"Rate on a numerical scale",icon:"📊"}];function A(){const a=w(),{mode:r}=N.useSearch(),g=u(h.organizer.questionLibrary.create),f=u(h.organizer.question.create),[c,l]=i.useState(null),[d,p]=i.useState(!1),[t,b]=i.useState(""),[m,j]=i.useState(""),C=async()=>{if(!t.trim()){alert("Please enter a title for your question library.");return}try{p(!0);const s=await g({title:t,description:m||void 0});a({to:"/app/questions/library",search:{bankId:s}})}catch(s){console.error("Failed to create question library:",s),alert("Failed to create question library. Please try again.")}finally{p(!1)}},v=async s=>{try{l(s);const o=await f({type:s});a({to:"/app/questions/details",search:{questionId:o}})}catch(o){console.error("Failed to create question:",o),alert("Failed to create question. Please try again.")}finally{l(null)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-center gap-3 mb-6",children:[e.jsx(n,{variant:"secondary",size:"icon-sm",onClick:()=>a({to:"/app/questions"}),children:e.jsx(k,{})}),e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title",children:r==="bank"?"Create Question Library":"Choose Question Type"}),e.jsx("h2",{className:"dashboard-description",children:r==="bank"?"Create a reusable collection of questions":"Select the type of question you want to create"})]})]}),r==="bank"?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(x,{children:[e.jsxs(q,{className:"text-center",children:[e.jsx(B,{className:"mx-auto h-12 w-12 text-primary mb-4"}),e.jsx(Q,{children:"Create Question Library"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Question libraries help you organize and reuse questions across multiple tests."})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"title",children:"Library Title *"}),e.jsx(T,{id:"title",placeholder:"e.g., Mathematics Quiz Library",value:t,onChange:s=>b(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(L,{id:"description",placeholder:"Brief description of what this question library contains",value:m,onChange:s=>j(s.target.value),rows:3})]}),e.jsx(n,{onClick:C,disabled:d||!t.trim(),className:"w-full",children:d?"Creating...":"Create Question Library"})]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(s=>e.jsx(x,{className:"p-6 hover:border-primary/30 cursor-pointer transition-colors",onClick:()=>v(s.type),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"text-4xl",children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.description})]}),e.jsx(n,{variant:"outline",size:"sm",disabled:c===s.type,className:"w-full",children:c===s.type?"Creating...":"Select"})]})},s.type))})]})}export{A as component};
