# Evaly - Test & Exam Management Platform

A comprehensive test and exam management platform built with modern web technologies. Evaly enables organizations to create, manage, and conduct online tests with real-time monitoring, detailed analytics, and seamless user experiences.

![Evaly Platform](https://img.shields.io/badge/Built%20with-TanStack%20Start-brightgreen) ![Convex](https://img.shields.io/badge/Backend-Convex-blue) ![Tailwind](https://img.shields.io/badge/Styling-Tailwind%20CSS-38B2AC)

## 🚀 Features

### For Organizers
- **Test Creation & Management**: Create comprehensive tests with multiple question types
- **Rich Question Editor**: Built-in TipTap editor for creating rich-text questions with images, links, and formatting
- **Real-time Monitoring**: Live participant tracking with presence detection
- **Advanced Analytics**: Detailed test results, performance metrics, and progress tracking
- **Question Library**: Reusable question bank for efficient test creation
- **Test Scheduling**: Schedule tests with custom time limits and access controls
- **Multi-tenant Support**: Organization-based user management

### For Participants
- **Seamless Test-taking**: Clean, intuitive interface for taking tests
- **Real-time Auto-save**: Automatic answer saving with progress tracking
- **Mobile Responsive**: Optimized for desktop, tablet, and mobile devices
- **Instant Results**: Immediate feedback and detailed result breakdowns
- **Profile Management**: Customizable participant profiles

### Technical Highlights
- **Real-time Features**: Live presence tracking, instant updates, and collaborative features
- **Type-safe Architecture**: End-to-end type safety with TypeScript and Convex
- **Modern UI/UX**: Responsive design with shadcn/ui components and Tailwind CSS
- **Scalable Backend**: Serverless architecture with Convex for optimal performance
- **Testing Ready**: Configured with Vitest and React Testing Library

## 🛠 Tech Stack

### Frontend
- **Framework**: [TanStack Start](https://tanstack.com/start) (React 19 meta-framework)
- **Runtime**: [Bun](https://bun.sh/) (fast JavaScript runtime)
- **Routing**: File-based routing with TanStack Router
- **Styling**: [Tailwind CSS v4](https://tailwindcss.com/) with custom design tokens
- **UI Components**: [shadcn/ui](https://ui.shadcn.com/) built on Radix UI primitives
- **Rich Text Editor**: [TipTap](https://tiptap.dev/) for question creation
- **Animations**: [Motion](https://motion.dev/) for smooth interactions

### Backend & Database
- **Backend**: [Convex](https://convex.dev/) (serverless backend with real-time capabilities)
- **Database**: Convex's built-in database with schema validation
- **Authentication**: Convex Auth with multi-provider support
- **Real-time**: WebSocket subscriptions for live updates
- **File Storage**: Integrated file upload and management

### Development & Testing
- **Build Tool**: [Vinxi](https://vinxi.dev/) bundler
- **Testing**: [Vitest](https://vitest.dev/) with React Testing Library
- **Type Checking**: TypeScript with strict configuration
- **Deployment**: AWS Lambda with streaming support

## 📋 Prerequisites

- [Bun](https://bun.sh/) v1.0.0 or higher
- [Node.js](https://nodejs.org/) v18.0.0 or higher (for Convex CLI)
- [Convex](https://convex.dev/) account for backend services

## 🚀 Quick Start

### 1. Clone and Install Dependencies

```bash
# Clone the repository
git clone https://github.com/fahreziadh/evaly.git
cd evaly

# Install dependencies
bun install
```

### 2. Environment Setup

**Local Environment:**
Create a `.env.local` file in the root directory with your Convex deployment info:

```bash
# Convex deployment (from your Convex dashboard)
CONVEX_DEPLOYMENT=your-convex-deployment-name
```

**Convex Environment Variables:**
Set these in your Convex dashboard or via CLI:

```bash
# Set via Convex CLI
npx convex env set AUTH_GOOGLE_ID your-google-client-id
npx convex env set AUTH_GOOGLE_SECRET your-google-client-secret
npx convex env set SITE_URL http://localhost:3000

# For file uploads (Cloudflare R2)
npx convex env set R2_ACCESS_KEY_ID your-r2-access-key
npx convex env set R2_SECRET_ACCESS_KEY your-r2-secret-key
npx convex env set R2_BUCKET your-bucket-name
npx convex env set R2_ENDPOINT your-r2-endpoint
npx convex env set R2_CDN_URL your-cdn-url
npx convex env set R2_TOKEN your-r2-token

# JWT config (auto-generated by Convex Auth)
npx convex env set JWKS your-jwks-json
npx convex env set JWT_PRIVATE_KEY your-jwt-private-key
```

Alternatively, set these through the [Convex Dashboard](https://dashboard.convex.dev) under Settings → Environment Variables.

### 3. Start Development Servers

You'll need two terminal windows:

**Terminal 1 - Convex Backend:**
```bash
npx convex dev
```

**Terminal 2 - Frontend Development Server:**
```bash
bun run dev
```

The application will be available at `http://localhost:3000`

## 📁 Project Structure

```
evaly/
├── convex/                     # Backend logic and database schema
│   ├── organizer/             # Organizer-specific server functions
│   ├── participant/           # Participant-specific server functions
│   ├── schemas/               # Database schema definitions
│   ├── auth.config.ts         # Authentication configuration
│   └── schema.ts              # Main schema file
├── src/
│   ├── components/
│   │   ├── pages/             # Full page components
│   │   ├── shared/            # Reusable business components
│   │   └── ui/                # Base UI primitives (shadcn/ui)
│   ├── hooks/                 # Custom React hooks
│   ├── lib/                   # Utility functions and configurations
│   ├── routes/                # File-based routing structure
│   │   ├── (organizer)/       # Protected organizer routes
│   │   ├── (participant)/     # Public participant routes
│   │   └── __root.tsx         # Root layout component
│   └── main.tsx               # Application entry point
├── public/                    # Static assets
├── docs/                      # Additional documentation
├── CLAUDE.md                  # AI assistant instructions
├── components.json            # shadcn/ui configuration
├── package.json               # Dependencies and scripts
└── vite.config.ts            # Vite configuration
```

## 🎯 Key Routes

### Organizer Routes (Protected)
- `/app` - Dashboard home
- `/app/tests` - Test management
- `/app/tests/:testId` - Individual test details
- `/app/tests/:testId/questions` - Question management
- `/app/tests/:testId/results` - Test results and analytics
- `/app/settings` - Account settings

### Participant Routes (Public)
- `/` - Landing page
- `/pricing` - Pricing information
- `/use-cases` - Platform use cases
- `/s/:testId` - Test lobby
- `/s/:testId/:attemptId` - Active test session
- `/s/:testId/results` - Test results

## 🧪 Testing

Run the test suite:

```bash
# Run all tests
bun run test

# Run tests in watch mode
bun test --watch

# Run specific test file
bun run test -- path/to/test.spec.tsx
```

## 🔧 Development Scripts

```bash
# Development
bun run dev          # Start development server
bun run build        # Build for production
bun run start        # Start production server

# Code Quality
bun run typecheck    # Type checking with TypeScript
bun run test         # Run test suite

# Convex Backend
npx convex dev       # Start Convex development server
npx convex deploy    # Deploy to production
```

## 🚢 Deployment

### Frontend Deployment
The application is configured for deployment on platforms that support Vinxi:

```bash
# Build the application
bun run build

# The dist/ folder contains the production build
```

### Backend Deployment
Deploy your Convex backend:

```bash
# Deploy to production
npx convex deploy

# Set production environment variables
npx convex env set VARIABLE_NAME value
```

## 🌟 Key Features Deep Dive

### Real-time Test Monitoring
- Live participant presence tracking
- Real-time answer submission monitoring
- Instant test completion notifications
- Heartbeat system for connection monitoring

### Advanced Question Types
- Multiple choice questions
- Rich text formatting with images
- Code syntax highlighting
- Mathematical expressions support

### Comprehensive Analytics
- Individual participant performance
- Question-level statistics
- Time tracking and analysis
- Exportable results and reports

### Security & Reliability
- Secure authentication with multiple providers
- Data validation at database level
- Automatic backup and recovery
- Rate limiting and abuse prevention

## 🤝 Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📚 Documentation

- [TanStack Start Documentation](https://tanstack.com/start)
- [Convex Documentation](https://docs.convex.dev/)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [shadcn/ui Components](https://ui.shadcn.com/)

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🔗 Links

- **Website**: [evaly.io](https://evaly.io)
- **Repository**: [GitHub](https://github.com/fahreziadh/evaly)
- **Issues**: [GitHub Issues](https://github.com/fahreziadh/evaly/issues)
- **Discussions**: [GitHub Discussions](https://github.com/fahreziadh/evaly/discussions)

---

Built with ❤️ using TanStack Start, Convex, and modern web technologies.
