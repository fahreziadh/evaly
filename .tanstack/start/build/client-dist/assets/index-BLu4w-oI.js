import{d as N,j as e,L as y,o as b,B as l,r as x,i as C,f as w,g as u,C as m,b as T,t as h,h as D}from"./main-Cf9OxwIv.js";import{B as c}from"./badge-oBenMcsD.js";import{S as k}from"./separator-CaSlYSmw.js";import{t as A}from"./test-type-formatter-DQ-TJDsf.js";import{C as L,P,D as z}from"./dialog-delete-test-DNxnMe0r.js";import{L as o}from"./label-D8wDE7WX.js";import{C as S}from"./check-Bn16OikD.js";import{D as B,a as F,b as I,c as _,d as M,e as Y,f as q}from"./dialog-CS9lxA6o.js";import{C as E}from"./circle-plus-CoL6w9Mo.js";import{C as H}from"./circle-check-big-B3vhpd_W.js";import{L as R}from"./lock-BJ0pdqMX.js";import{A as O}from"./arrow-right-eVV4FomT.js";import{S as i}from"./skeleton-DWmK6kTR.js";import{T as U,a as V,b as r}from"./tabs-LM7eqQvC.js";import"./index-CQ75r9EK.js";import"./trash-2-aMbAjlot.js";import"./index-GxXN4R5W.js";import"./index-tmSglm_A.js";import"./Combination-BQk3dayN.js";import"./x-D7PiG2td.js";import"./index-D0TJhYiI.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Q=N("circle-user",$),W=({data:s})=>{const t=s.isPublished?`/app/tests/details?testId=${s._id}&tabs=results`:`/app/tests/details?testId=${s._id}&tabs=questions`;return e.jsxs(y,{to:t,className:"bg-card w-full active:opacity-80 flex flex-col gap-2 p-4 hover:opacity-70",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-normal",children:s.title||"Untitled Test"}),e.jsxs("div",{children:[s.isPublished&&!s.finishedAt?e.jsxs(c,{variant:"ghost",className:"text-muted-foreground",children:[e.jsx(L,{className:"fill-success-foreground stroke-success-foreground size-3"}),"Active"]}):null,!s.isPublished&&!s.finishedAt?e.jsx(c,{variant:"outline",children:"Draft"}):null,s.isPublished&&s.finishedAt?e.jsxs(c,{variant:"secondary",children:[e.jsx(S,{}),"Finished"]}):null]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx(o,{children:A(s.type)})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:14}),e.jsx("span",{children:s.access==="public"?"Public":"Private"})]}),s.heldAt&&e.jsxs("div",{className:"flex items-center gap-1",children:["Held on ",b(s.heldAt).format("DD MMM YYYY")]}),e.jsxs("div",{className:"ml-auto flex space-x-1",children:[e.jsx(l,{variant:"ghost",size:"icon-xs",children:e.jsx(P,{})}),e.jsx(k,{orientation:"vertical"}),e.jsx(z,{testId:s._id})]})]})]})},f=()=>{const[s,t]=x.useState(!1),[n,d]=x.useState(!1),j=C(),p=w(u.organizer.test.createTest),g=async()=>{try{d(!0);const a=await p({type:"self-paced"});if(!a){h.error("Failed to create test");return}d(!1),j({to:"/app/tests/details",search:{testId:a,tabs:"questions",resultsTab:"summary"}})}catch(a){h.error(a instanceof Error?a.message:"Failed to create test")}},v=()=>t(!1);return e.jsxs(B,{open:s,onOpenChange:t,children:[e.jsx(F,{asChild:!0,children:e.jsxs(l,{variant:"default",className:"w-max",children:[e.jsx(E,{})," Create Test"]})}),e.jsxs(I,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Create Test"}),e.jsx(Y,{children:"Choose the type of test you want to create"})]}),e.jsxs(m,{className:"p-4  ring-2 ring-offset-2",children:[e.jsxs("div",{className:"flex flex-row items-start justify-between",children:[e.jsx("h1",{children:"Self-Paced Test"}),e.jsx(H,{size:20})]}),e.jsx(o,{className:"text-sm",children:"A self-paced test is a test that you can take at your own pace."})]}),e.jsxs(m,{className:"p-4 opacity-80",children:[e.jsxs("div",{className:"flex flex-row items-start justify-between",children:[e.jsx("h1",{children:"Live Test"}),e.jsxs(c,{variant:"secondary",children:[e.jsx(R,{})," Coming Soon"]})]}),e.jsx(o,{className:"text-sm",children:"A live test is a test that is taken at a specific time."})]}),e.jsxs(q,{children:[e.jsx(l,{variant:"secondary",onClick:v,children:"Back"}),e.jsxs(l,{variant:"default",onClick:g,disabled:n,children:[n?e.jsx(T,{size:16,className:"animate-spin"}):null,"Continue",n?null:e.jsx(O,{size:16})]})]})]})]})};function je(){const s=D(u.organizer.test.getTests);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title",children:"Dashboard"}),e.jsx("p",{className:"dashboard-description",children:"Welcome to the dashboard. Here you can create and manage your tests."})]}),s&&s.length>0?e.jsx(f,{}):null]}),e.jsx(U,{className:"dashboard-margin mb-2",defaultValue:"all",children:e.jsxs(V,{children:[e.jsx(r,{value:"all",children:"All"}),e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"draft",children:"Draft"}),e.jsx(r,{value:"finished",children:"Finished"})]})}),s&&s.length>0?e.jsx("div",{className:"flex flex-col border divide-y rounded-lg overflow-clip",children:s.map(t=>e.jsx(W,{data:t},t._id))}):null,(s==null?void 0:s.length)===0?e.jsxs("div",{className:"flex flex-col text-start justify-center border p-6 rounded-lg",children:[e.jsx("h1",{className:"text-xl font-medium",children:"No tests yet"}),e.jsx("h2",{className:"max-w-md mt-2 text-muted-foreground mb-4",children:"Create a new test to get started"}),e.jsx(f,{})]}):null,s===void 0?e.jsxs("div",{className:"flex flex-col min-h-dvh gap-4",children:[e.jsx(i,{className:"h-20 w-full"}),e.jsx(i,{className:"h-20 w-full "}),e.jsx(i,{className:"h-20 w-full"}),e.jsx(i,{className:"h-20 w-full"}),e.jsx(i,{className:"h-20 w-full"})]}):null]})}export{je as component};
