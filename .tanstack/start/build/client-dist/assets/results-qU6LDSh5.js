import{d as A,r as _,$ as de,h as X,g as T,j as r,C as Rt,k as P,f as _t,c as tt,B as q,a9 as yt,i as jt}from"./main-DlyImwyW.js";import{T as Ft,a as Nt,b as ee,c as te}from"./tabs-BbPEs7QD.js";import{D as He,a as ze,b as ke,c as W,d as $t,e as Mt}from"./dropdown-menu-sOts507K.js";import{I as It}from"./input-CpcA49vi.js";import{B as Ce}from"./badge-DCUqPuCj.js";import{D as Te}from"./details-VFjzkUHf.js";import{F as Ge}from"./file-text-BOTRp_Gg.js";import{L as ge}from"./label-xUnlE6-3.js";import{T as nt}from"./text-shimmer-CdH4dyHN.js";import{m as Pt}from"./proxy-dXJD4cHT.js";import{C as Vt}from"./editor-CM68Cbou.js";import{P as bt}from"./progress-BB8jOzAC.js";import{U as Et}from"./users-q7qnFYcB.js";import{C as At}from"./clock-CcSH04sM.js";import{C as Dt}from"./chart-column-CtU1n1rk.js";import{C as Lt}from"./circle-check-big-YQr7ENWC.js";import"./index-cFAMEy_e.js";import"./index-D8u25tJ8.js";import"./index-CDpRp4ge.js";import"./index-D1zo_IBC.js";import"./Combination-CBwBOCap.js";import"./index-CC5cL3zt.js";import"./skeleton-7NpEHvm1.js";import"./dialog-BkomBEYl.js";import"./x-DetwzAZJ.js";import"./lock-B3FKnUJT.js";import"./trash-2-kkRBDm4f.js";import"./textarea-OnLNa8_E.js";import"./check-Co2yzWpo.js";import"./chevron-down-C834hheA.js";import"./arrow-right-C4R9NL61.js";import"./plus-wxcAVWYv.js";import"./dialog-delete-test-CmEaVefE.js";import"./separator-BZtZAkNe.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zt=A("activity",Ht);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Oe=A("arrow-up-down",kt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Gt=A("ellipsis",Tt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bt=A("eye-off",Ot);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],st=A("eye",Ut);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Xt=A("file-spreadsheet",qt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jt=A("target",Wt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Yt=A("trending-down",Kt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Qt=A("trending-up",Zt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],tn=A("trophy",en),k=(e,n,t)=>{const s=document.createElement(e),[i,o]=Array.isArray(n)?[void 0,n]:[n,t];return i&&Object.assign(s,i),o==null||o.forEach(l=>s.appendChild(l)),s},nn=(e,n)=>{var t;return n==="left"?e.offsetLeft:(((t=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:t.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},sn=e=>e.offsetWidth>0&&e.offsetHeight>0,on=(e,n)=>{customElements.get(e)!==n&&customElements.define(e,n)};function rn(e,n,{reverse:t=!1}={}){const s=e.length;for(let i=t?s-1:0;t?i>=0:i<s;t?i--:i++)n(e[i],i)}function ln(e,n,t,s){const i=n.formatToParts(e);t&&i.unshift({type:"prefix",value:t}),s&&i.push({type:"suffix",value:s});const o=[],l=[],a=[],d=[],c={},g=m=>`${m}:${c[m]=(c[m]??-1)+1}`;let h="",f=!1,u=!1;for(const m of i){h+=m.value;const x=m.type==="minusSign"||m.type==="plusSign"?"sign":m.type;x==="integer"?(f=!0,l.push(...m.value.split("").map(S=>({type:x,value:parseInt(S)})))):x==="group"?l.push({type:x,value:m.value}):x==="decimal"?(u=!0,a.push({type:x,value:m.value,key:g(x)})):x==="fraction"?a.push(...m.value.split("").map(S=>({type:x,value:parseInt(S),key:g(x),pos:-1-c[x]}))):(f||u?d:o).push({type:x,value:m.value,key:g(x)})}const p=[];for(let m=l.length-1;m>=0;m--){const x=l[m];p.unshift(x.type==="integer"?{...x,key:g(x.type),pos:c[x.type]}:{...x,key:g(x.type)})}return{pre:o,integer:p,fraction:a,post:d,valueAsString:h,value:typeof e=="string"?parseFloat(e):e}}const an=String.raw,un=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),dn=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),Be=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,ae="--_number-flow-d-opacity",Ie="--_number-flow-d-width",ue="--_number-flow-dx",Pe="--_number-flow-d",cn=(()=>{try{return CSS.registerProperty({name:ae,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:ue,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:Ie,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Pe,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),gn="var(--number-flow-char-height, 1em)",H="var(--number-flow-mask-height, 0.25em)",Ue=`calc(${H} / 2)`,Re="var(--number-flow-mask-width, 0.5em)",B=`calc(${Re} / var(--scale-x))`,ne="#000 0, transparent 71%",qe=an`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${gn} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${Ie}) / var(--width));transform:translateX(var(${ue})) scaleX(var(--scale-x));margin:0 calc(-1 * ${Re});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${B},#000 calc(100% - ${B}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${H},#000 calc(100% - ${H}),transparent 100% ),radial-gradient(at bottom right,${ne}),radial-gradient(at bottom left,${ne}),radial-gradient(at top left,${ne}),radial-gradient(at top right,${ne});-webkit-mask-size:100% calc(100% - ${H} * 2),calc(100% - ${B} * 2) 100%,${B} ${H},${B} ${H},${B} ${H},${B} ${H};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${Ue} ${Re};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${ue})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${Pe})}.digit__num,.number .section::after{padding:${Ue} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${ae}))}`,fn=HTMLElement,pn=dn&&un&&cn;let se;class it extends fn{constructor(){super(),this.created=!1,this.batched=!1;const{animated:n,...t}=this.constructor.defaultProps;this._animated=this.computedAnimated=n,Object.assign(this,t)}get animated(){return this._animated}set animated(n){var t;this.animated!==n&&(this._animated=n,(t=this.shadowRoot)==null||t.getAnimations().forEach(s=>s.finish()))}set data(n){var t;if(n==null)return;const{pre:s,integer:i,fraction:o,post:l,value:a}=n;if(this.created){const d=this._data;this._data=n,this.computedTrend=typeof this.trend=="function"?this.trend(d.value,a):this.trend,this.computedAnimated=pn&&this._animated&&(!this.respectMotionPreference||!(Be!=null&&Be.matches))&&sn(this),(t=this.plugins)==null||t.forEach(c=>{var g;return(g=c.onUpdate)==null?void 0:g.call(c,n,d,this)}),this.batched||this.willUpdate(),this._pre.update(s),this._num.update({integer:i,fraction:o}),this._post.update(l),this.batched||this.didUpdate()}else{this._data=n,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)se||(se=new CSSStyleSheet,se.replaceSync(qe)),this.shadowRoot.adoptedStyleSheets=[se];else{const d=document.createElement("style");d.textContent=qe,this.shadowRoot.appendChild(d)}this._pre=new We(this,s,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new mn(this,i,o),this.shadowRoot.appendChild(this._num.el),this._post=new We(this,l,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=n.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const n=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(t=>t.finished)).then(()=>{n.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=n}}it.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,n)=>Math.sign(n-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};class mn{constructor(n,t,s,{className:i,...o}={}){this.flow=n,this._integer=new Xe(n,t,{justify:"right",part:"integer"}),this._fraction=new Xe(n,s,{justify:"left",part:"fraction"}),this._inner=k("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=k("span",{...o,part:"number",className:`number ${i??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:n,fraction:t}){this._integer.update(n),this._fraction.update(t)}didUpdate(){const n=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const t=this._prevLeft-n.left,s=this.el.offsetWidth,i=this._prevWidth-s;this.el.style.setProperty("--width",String(s)),this.el.animate({[ue]:[`${t}px`,"0px"],[Ie]:[i,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class ot{constructor(n,t,{justify:s,className:i,...o},l){this.flow=n,this.children=new Map,this.onCharRemove=d=>()=>{this.children.delete(d)},this.justify=s;const a=t.map(d=>this.addChar(d).el);this.el=k("span",{...o,className:`section section--justify-${s} ${i??""}`},l?l(a):a)}addChar(n,{startDigitsAtZero:t=!1,...s}={}){const i=n.type==="integer"||n.type==="fraction"?new lt(this,n.type,t?0:n.value,n.pos,{...s,onRemove:this.onCharRemove(n.key)}):new hn(this,n.type,n.value,{...s,onRemove:this.onCharRemove(n.key)});return this.children.set(n.key,i),i}unpop(n){n.el.removeAttribute("inert"),n.el.style.top="",n.el.style[this.justify]=""}pop(n){n.forEach(t=>{t.el.style.top=`${t.el.offsetTop}px`,t.el.style[this.justify]=`${nn(t.el,this.justify)}px`}),n.forEach(t=>{t.el.setAttribute("inert",""),t.present=!1})}addNewAndUpdateExisting(n){const t=new Map,s=new Map,i=this.justify==="left",o=i?"prepend":"append";if(rn(n,l=>{let a;this.children.has(l.key)?(a=this.children.get(l.key),s.set(l,a),this.unpop(a),a.present=!0):(a=this.addChar(l,{startDigitsAtZero:!0,animateIn:!0}),t.set(l,a)),this.el[o](a.el)},{reverse:i}),this.flow.computedAnimated){const l=this.el.getBoundingClientRect();t.forEach(a=>{a.willUpdate(l)})}t.forEach((l,a)=>{l.update(a.value)}),s.forEach((l,a)=>{l.update(a.value)})}willUpdate(){const n=this.el.getBoundingClientRect();this._prevOffset=n[this.justify],this.children.forEach(t=>t.willUpdate(n))}didUpdate(){const n=this.el.getBoundingClientRect();this.children.forEach(i=>i.didUpdate(n));const t=n[this.justify],s=this._prevOffset-t;s&&this.children.size&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class Xe extends ot{update(n){const t=new Map;this.children.forEach((s,i)=>{n.find(o=>o.key===i)||t.set(i,s),this.unpop(s)}),this.addNewAndUpdateExisting(n),t.forEach(s=>{s instanceof lt&&s.update(0)}),this.pop(t)}}class We extends ot{update(n){const t=new Map;this.children.forEach((s,i)=>{n.find(o=>o.key===i)||t.set(i,s)}),this.pop(t),this.addNewAndUpdateExisting(n)}}class _e{constructor(n,t,{onRemove:s,animateIn:i=!1}={}){this.flow=n,this.el=t,this._present=!0,this._remove=()=>{var o;this.el.remove(),(o=this._onRemove)==null||o.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&i&&this.el.animate({[ae]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=s}get present(){return this._present}set present(n){if(this._present!==n){if(this._present=n,n?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){n||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",n?"0":"-.999"),this.el.animate({[ae]:n?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),n?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class rt extends _e{constructor(n,t,s,i){super(n.flow,s,i),this.section=n,this.value=t,this.el=s}}class lt extends rt{constructor(n,t,s,i,o){var l,a;const d=(((a=(l=n.flow.digits)==null?void 0:l[i])==null?void 0:a.max)??9)+1,c=Array.from({length:d}).map((h,f)=>{const u=k("span",{className:"digit__num"},[document.createTextNode(String(f))]);return f!==s&&u.setAttribute("inert",""),u.style.setProperty("--n",String(f)),u}),g=k("span",{part:`digit ${t}-digit`,className:"digit"},c);g.style.setProperty("--current",String(s)),g.style.setProperty("--length",String(d)),super(n,s,g,o),this.pos=i,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=c,this.length=d}willUpdate(n){const t=this.el.getBoundingClientRect();this._prevValue=this.value;const s=t[this.section.justify]-n[this.section.justify],i=t.width/2;this._prevCenter=this.section.justify==="left"?s+i:s-i}update(n){this.el.style.setProperty("--current",String(n)),this._numbers.forEach((t,s)=>s===n?t.removeAttribute("inert"):t.setAttribute("inert","")),this.value=n}didUpdate(n){const t=this.el.getBoundingClientRect(),s=t[this.section.justify]-n[this.section.justify],i=t.width/2,o=this.section.justify==="left"?s+i:s-i,l=this._prevCenter-o;l&&this.el.animate({transform:[`translateX(${l}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const a=this.getDelta();a&&(this.el.classList.add("is-spinning"),this.el.animate({[Pe]:[-a,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var n;if(this.flow.plugins)for(const i of this.flow.plugins){const o=(n=i.getDelta)==null?void 0:n.call(i,this.value,this._prevValue,this);if(o!=null)return o}const t=this.value-this._prevValue,s=this.flow.computedTrend||Math.sign(t);return s<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:s>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:t}}class hn extends rt{constructor(n,t,s,i){const o=k("span",{className:"symbol__value",textContent:s});super(n,s,k("span",{part:`symbol ${t}`,className:"symbol"},[o]),i),this.type=t,this._children=new Map,this._onChildRemove=l=>()=>{this._children.delete(l)},this._children.set(s,new _e(this.flow,o,{onRemove:this._onChildRemove(s)}))}willUpdate(n){if(this.type==="decimal")return;const t=this.el.getBoundingClientRect();this._prevOffset=t[this.section.justify]-n[this.section.justify]}update(n){if(this.value!==n){const t=this._children.get(this.value);t&&(t.present=!1);const s=this._children.get(n);if(s)s.present=!0;else{const i=k("span",{className:"symbol__value",textContent:n});this.el.appendChild(i),this._children.set(n,new _e(this.flow,i,{animateIn:!0,onRemove:this._onChildRemove(n)}))}}this.value=n}didUpdate(n){if(this.type==="decimal")return;const t=this.el.getBoundingClientRect()[this.section.justify]-n[this.section.justify],s=this._prevOffset-t;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var et;const xn=parseInt((et=_.version.match(/^(\d+)\./))==null?void 0:et[1]),Ve=xn>=19,vn=["data","digits"];class be extends it{attributeChangedCallback(n,t,s){this[n]=JSON.parse(s)}}be.observedAttributes=Ve?[]:vn;on("number-flow-react",be);const fe={},Je=Ve?e=>e:JSON.stringify;function Ke(e){const{transformTiming:n,spinTiming:t,opacityTiming:s,animated:i,respectMotionPreference:o,trend:l,plugins:a,...d}=e;return[{transformTiming:n,spinTiming:t,opacityTiming:s,animated:i,respectMotionPreference:o,trend:l,plugins:a},d]}class wn extends _.Component{updateProperties(n){if(!this.el)return;this.el.batched=!this.props.isolate;const[t]=Ke(this.props);Object.entries(t).forEach(([s,i])=>{this.el[s]=i??be.defaultProps[s]}),n!=null&&n.onAnimationsStart&&this.el.removeEventListener("animationsstart",n.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),n!=null&&n.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",n.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),Ve&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(n){var t;if(this.updateProperties(n),n.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>{var s;return(s=this.props.group)==null?void 0:s.didUpdate()};if(!this.props.isolate)return(t=this.el)==null||t.willUpdate(),()=>{var s;return(s=this.el)==null?void 0:s.didUpdate()}}return null}componentDidUpdate(n,t,s){s==null||s()}handleRef(n){this.props.innerRef&&(this.props.innerRef.current=n),this.el=n}render(){const[n,{innerRef:t,className:s,data:i,willChange:o,isolate:l,group:a,digits:d,onAnimationsStart:c,onAnimationsFinish:g,...h}]=Ke(this.props);return _.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":o?"":void 0,class:s,...h,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:Je(d),data:Je(i)})}constructor(n){super(n),this.handleRef=this.handleRef.bind(this)}}const U=_.forwardRef(function({value:n,locales:t,format:s,prefix:i,suffix:o,...l},a){_.useImperativeHandle(a,()=>d.current,[]);const d=_.useRef(),c=_.useContext(at);c==null||c.useRegister(d);const g=_.useMemo(()=>t?JSON.stringify(t):"",[t]),h=_.useMemo(()=>s?JSON.stringify(s):"",[s]),f=_.useMemo(()=>{var p;const u=fe[p=`${g}:${h}`]??(fe[p]=new Intl.NumberFormat(t,s));return ln(n,u,i,o)},[n,g,h,i,o]);return _.createElement(wn,{...l,group:c,data:f,innerRef:d})}),at=_.createContext(void 0);function Sn({children:e}){const n=_.useRef(new Set),t=_.useRef(!1),s=_.useRef(new WeakMap),i=_.useMemo(()=>({useRegister(o){_.useEffect(()=>(n.current.add(o),()=>{n.current.delete(o)}),[])},willUpdate(){t.current||(t.current=!0,n.current.forEach(o=>{const l=o.current;!l||!l.created||(l.willUpdate(),s.current.set(l,!0))}))},didUpdate(){n.current.forEach(o=>{const l=o.current;!l||!s.current.get(l)||(l.didUpdate(),s.current.delete(l))}),t.current=!1}}),[]);return _.createElement(at.Provider,{value:i},e)}const Cn=({className:e})=>{const{testId:n}=de({from:"/(organizer)/app/tests/details"}),t=X(T.participant.testPresence.list,{testId:n}),s=X(T.organizer.testResult.getProgress,{testId:n}),i=_.useMemo(()=>{const o=(s==null?void 0:s.averageTime)||0,l=Math.floor(o/3600),a=Math.floor(o%3600/60),d=Math.floor(o%60);return{h:l,m:a,s:d}},[s==null?void 0:s.averageTime]);return r.jsxs(Rt,{className:P("grid grid-cols-4 gap-3 divide-x",e),children:[r.jsx("div",{className:"p-4 flex flex-row justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"font-medium text-sm",children:"Working in progress"}),r.jsxs("div",{className:"flex flex-row items-center gap-4",children:[r.jsx(U,{value:(s==null?void 0:s.workingInProgress)||0,className:"text-3xl font-bold"}),r.jsx(U,{value:(t==null?void 0:t.length)||0,suffix:" Online",className:"text-sm text-emerald-600 bg-emerald-500/10 px-2 rounded-full border border-emerald-500/20"})]})]})}),r.jsx("div",{className:"p-4 flex flex-row justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"font-medium text-sm",children:"Submission"}),r.jsx(U,{value:(s==null?void 0:s.submissions)||0,className:"text-3xl font-bold"})]})}),r.jsx("div",{className:"p-4 flex flex-row justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"font-medium text-sm",children:"Average Time"}),r.jsx(Sn,{children:r.jsxs("div",{style:{fontVariantNumeric:"tabular-nums"},className:"text-3xl font-bold flex item-baseline gap-2",children:[i.h>0?r.jsx(U,{trend:-1,value:i.h,format:{minimumIntegerDigits:2},suffix:"h"}):null,r.jsx(U,{trend:-1,value:i.m,digits:{1:{max:5}},suffix:"m",format:{minimumIntegerDigits:2}}),i.m===0?r.jsx(U,{trend:-1,value:i.s,digits:{1:{max:5}},suffix:"s",format:{minimumIntegerDigits:2}}):null]})})]})}),r.jsx("div",{className:"p-4 flex flex-row justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"font-medium text-sm",children:"Completetion Rate"}),r.jsx(U,{value:(s==null?void 0:s.completitionRate)||0,className:"text-3xl font-bold",suffix:"%"})]})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function z(e,n){return typeof e=="function"?e(n):e}function V(e,n){return t=>{n.setState(s=>({...s,[e]:z(t,s[e])}))}}function ce(e){return e instanceof Function}function Rn(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function _n(e,n){const t=[],s=i=>{i.forEach(o=>{t.push(o);const l=n(o);l!=null&&l.length&&s(l)})};return s(e),t}function v(e,n,t){let s=[],i;return o=>{let l;t.key&&t.debug&&(l=Date.now());const a=e(o);if(!(a.length!==s.length||a.some((g,h)=>s[h]!==g)))return i;s=a;let c;if(t.key&&t.debug&&(c=Date.now()),i=n(...a),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const g=Math.round((Date.now()-l)*100)/100,h=Math.round((Date.now()-c)*100)/100,f=h/16,u=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c⏱ ${u(h,5)} /${u(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return i}}function w(e,n,t,s){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[n]},key:!1,onChange:s}}function yn(e,n,t,s){const i=()=>{var l;return(l=o.getValue())!=null?l:e.options.renderFallbackValue},o={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(s),renderValue:i,getContext:v(()=>[e,t,n,o],(l,a,d,c)=>({table:l,column:a,row:d,cell:c,getValue:c.getValue,renderValue:c.renderValue}),w(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(o,t,n,e)},{}),o}function jn(e,n,t,s){var i,o;const a={...e._getDefaultColumnDef(),...n},d=a.accessorKey;let c=(i=(o=a.id)!=null?o:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:d&&(d.includes(".")?g=f=>{let u=f;for(const m of d.split(".")){var p;u=(p=u)==null?void 0:p[m]}return u}:g=f=>f[a.accessorKey]),!c)throw new Error;let h={id:`${String(c)}`,accessorFn:g,parent:s,depth:t,columnDef:a,columns:[],getFlatColumns:v(()=>[!0],()=>{var f;return[h,...(f=h.columns)==null?void 0:f.flatMap(u=>u.getFlatColumns())]},w(e.options,"debugColumns")),getLeafColumns:v(()=>[e._getOrderColumnsFn()],f=>{var u;if((u=h.columns)!=null&&u.length){let p=h.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[h]},w(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(h,e);return h}const $="debugHeaders";function Ye(e,n,t){var s;let o={id:(s=t.id)!=null?s:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(a),l.push(d)};return a(o),l},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(o,e)}),o}const Fn={createTable:e=>{e.getHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>{var o,l;const a=(o=s==null?void 0:s.map(h=>t.find(f=>f.id===h)).filter(Boolean))!=null?o:[],d=(l=i==null?void 0:i.map(h=>t.find(f=>f.id===h)).filter(Boolean))!=null?l:[],c=t.filter(h=>!(s!=null&&s.includes(h.id))&&!(i!=null&&i.includes(h.id)));return ie(n,[...a,...c,...d],e)},w(e.options,$)),e.getCenterHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>(t=t.filter(o=>!(s!=null&&s.includes(o.id))&&!(i!=null&&i.includes(o.id))),ie(n,t,e,"center")),w(e.options,$)),e.getLeftHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,s)=>{var i;const o=(i=s==null?void 0:s.map(l=>t.find(a=>a.id===l)).filter(Boolean))!=null?i:[];return ie(n,o,e,"left")},w(e.options,$)),e.getRightHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,s)=>{var i;const o=(i=s==null?void 0:s.map(l=>t.find(a=>a.id===l)).filter(Boolean))!=null?i:[];return ie(n,o,e,"right")},w(e.options,$)),e.getFooterGroups=v(()=>[e.getHeaderGroups()],n=>[...n].reverse(),w(e.options,$)),e.getLeftFooterGroups=v(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),w(e.options,$)),e.getCenterFooterGroups=v(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),w(e.options,$)),e.getRightFooterGroups=v(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),w(e.options,$)),e.getFlatHeaders=v(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),w(e.options,$)),e.getLeftFlatHeaders=v(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),w(e.options,$)),e.getCenterFlatHeaders=v(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),w(e.options,$)),e.getRightFlatHeaders=v(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),w(e.options,$)),e.getCenterLeafHeaders=v(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),w(e.options,$)),e.getLeftLeafHeaders=v(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),w(e.options,$)),e.getRightLeafHeaders=v(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),w(e.options,$)),e.getLeafHeaders=v(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,s)=>{var i,o,l,a,d,c;return[...(i=(o=n[0])==null?void 0:o.headers)!=null?i:[],...(l=(a=t[0])==null?void 0:a.headers)!=null?l:[],...(d=(c=s[0])==null?void 0:c.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},w(e.options,$))}};function ie(e,n,t,s){var i,o;let l=0;const a=function(f,u){u===void 0&&(u=1),l=Math.max(l,u),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,u+1)},0)};a(e);let d=[];const c=(f,u)=>{const p={depth:u,id:[s,`${u}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(x=>{const S=[...m].reverse()[0],y=x.column.depth===p.depth;let j,b=!1;if(y&&x.column.parent?j=x.column.parent:(j=x.column,b=!0),S&&(S==null?void 0:S.column)===j)S.subHeaders.push(x);else{const F=Ye(t,j,{id:[s,u,j.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:b,placeholderId:b?`${m.filter(D=>D.column===j).length}`:void 0,depth:u,index:m.length});F.subHeaders.push(x),m.push(F)}p.headers.push(x),x.headerGroup=p}),d.push(p),u>0&&c(m,u-1)},g=n.map((f,u)=>Ye(t,f,{depth:l,index:u}));c(g,l-1),d.reverse();const h=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,x=0,S=[0];p.subHeaders&&p.subHeaders.length?(S=[],h(p.subHeaders).forEach(j=>{let{colSpan:b,rowSpan:F}=j;m+=b,S.push(F)})):m=1;const y=Math.min(...S);return x=x+y,p.colSpan=m,p.rowSpan=x,{colSpan:m,rowSpan:x}});return h((i=(o=d[0])==null?void 0:o.headers)!=null?i:[]),d}const Ee=(e,n,t,s,i,o,l)=>{let a={id:n,index:s,original:t,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(a._valuesCache.hasOwnProperty(d))return a._valuesCache[d];const c=e.getColumn(d);if(c!=null&&c.accessorFn)return a._valuesCache[d]=c.accessorFn(a.original,s),a._valuesCache[d]},getUniqueValues:d=>{if(a._uniqueValuesCache.hasOwnProperty(d))return a._uniqueValuesCache[d];const c=e.getColumn(d);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[d]=c.columnDef.getUniqueValues(a.original,s),a._uniqueValuesCache[d]):(a._uniqueValuesCache[d]=[a.getValue(d)],a._uniqueValuesCache[d])},renderValue:d=>{var c;return(c=a.getValue(d))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>_n(a.subRows,d=>d.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let d=[],c=a;for(;;){const g=c.getParentRow();if(!g)break;d.push(g),c=g}return d.reverse()},getAllCells:v(()=>[e.getAllLeafColumns()],d=>d.map(c=>yn(e,a,c,c.id)),w(e.options,"debugRows")),_getAllCellsByColumnId:v(()=>[a.getAllCells()],d=>d.reduce((c,g)=>(c[g.column.id]=g,c),{}),w(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const c=e._features[d];c==null||c.createRow==null||c.createRow(a,e)}return a},Nn={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ut=(e,n,t)=>{var s,i;const o=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((i=e.getValue(n))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};ut.autoRemove=e=>E(e);const dt=(e,n,t)=>{var s;return!!(!((s=e.getValue(n))==null||(s=s.toString())==null)&&s.includes(t))};dt.autoRemove=e=>E(e);const ct=(e,n,t)=>{var s;return((s=e.getValue(n))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(t==null?void 0:t.toLowerCase())};ct.autoRemove=e=>E(e);const gt=(e,n,t)=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(t)};gt.autoRemove=e=>E(e);const ft=(e,n,t)=>!t.some(s=>{var i;return!((i=e.getValue(n))!=null&&i.includes(s))});ft.autoRemove=e=>E(e)||!(e!=null&&e.length);const pt=(e,n,t)=>t.some(s=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(s)});pt.autoRemove=e=>E(e)||!(e!=null&&e.length);const mt=(e,n,t)=>e.getValue(n)===t;mt.autoRemove=e=>E(e);const ht=(e,n,t)=>e.getValue(n)==t;ht.autoRemove=e=>E(e);const Ae=(e,n,t)=>{let[s,i]=t;const o=e.getValue(n);return o>=s&&o<=i};Ae.resolveFilterValue=e=>{let[n,t]=e,s=typeof n!="number"?parseFloat(n):n,i=typeof t!="number"?parseFloat(t):t,o=n===null||Number.isNaN(s)?-1/0:s,l=t===null||Number.isNaN(i)?1/0:i;if(o>l){const a=o;o=l,l=a}return[o,l]};Ae.autoRemove=e=>E(e)||E(e[0])&&E(e[1]);const L={includesString:ut,includesStringSensitive:dt,equalsString:ct,arrIncludes:gt,arrIncludesAll:ft,arrIncludesSome:pt,equals:mt,weakEquals:ht,inNumberRange:Ae};function E(e){return e==null||e===""}const $n={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:V("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);return typeof s=="string"?L.includesString:typeof s=="number"?L.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?L.equals:Array.isArray(s)?L.arrIncludes:L.weakEquals},e.getFilterFn=()=>{var t,s;return ce(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(s=n.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?t:L[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,s,i;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((s=n.options.enableColumnFilters)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(s=>s.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,s;return(t=(s=n.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(s=>{const i=e.getFilterFn(),o=s==null?void 0:s.find(g=>g.id===e.id),l=z(t,o?o.value:void 0);if(Ze(i,l,e)){var a;return(a=s==null?void 0:s.filter(g=>g.id!==e.id))!=null?a:[]}const d={id:e.id,value:l};if(o){var c;return(c=s==null?void 0:s.map(g=>g.id===e.id?d:g))!=null?c:[]}return s!=null&&s.length?[...s,d]:[d]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),s=i=>{var o;return(o=z(n,i))==null?void 0:o.filter(l=>{const a=t.find(d=>d.id===l.id);if(a){const d=a.getFilterFn();if(Ze(d,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=n=>{var t,s;e.setColumnFilters(n?[]:(t=(s=e.initialState)==null?void 0:s.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ze(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Mn=(e,n,t)=>t.reduce((s,i)=>{const o=i.getValue(e);return s+(typeof o=="number"?o:0)},0),In=(e,n,t)=>{let s;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(s>o||s===void 0&&o>=o)&&(s=o)}),s},Pn=(e,n,t)=>{let s;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(s<o||s===void 0&&o>=o)&&(s=o)}),s},Vn=(e,n,t)=>{let s,i;return t.forEach(o=>{const l=o.getValue(e);l!=null&&(s===void 0?l>=l&&(s=i=l):(s>l&&(s=l),i<l&&(i=l)))}),[s,i]},bn=(e,n)=>{let t=0,s=0;if(n.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++t,s+=o)}),t)return s/t},En=(e,n)=>{if(!n.length)return;const t=n.map(o=>o.getValue(e));if(!Rn(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),i=t.sort((o,l)=>o-l);return t.length%2!==0?i[s]:(i[s-1]+i[s])/2},An=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Dn=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,Ln=(e,n)=>n.length,pe={sum:Mn,min:In,max:Pn,extent:Vn,mean:bn,median:En,unique:An,uniqueCount:Dn,count:Ln},Hn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:V("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(s=>s!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,s;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((s=n.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);if(typeof s=="number")return pe.sum;if(Object.prototype.toString.call(s)==="[object Date]")return pe.extent},e.getAggregationFn=()=>{var t,s;if(!e)throw new Error;return ce(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(s=n.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?t:pe[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,s;e.setGrouping(n?[]:(t=(s=e.initialState)==null?void 0:s.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const s=n.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[t]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,s)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function zn(e,n,t){if(!(n!=null&&n.length)||!t)return e;const s=e.filter(o=>!n.includes(o.id));return t==="remove"?s:[...n.map(o=>e.find(l=>l.id===o)).filter(Boolean),...s]}const kn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:V("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=v(t=>[Z(n,t)],t=>t.findIndex(s=>s.id===e.id),w(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var s;return((s=Z(n,t)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=t=>{var s;const i=Z(n,t);return((s=i[i.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=v(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,s)=>i=>{let o=[];if(!(n!=null&&n.length))o=i;else{const l=[...n],a=[...i];for(;a.length&&l.length;){const d=l.shift(),c=a.findIndex(g=>g.id===d);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return zn(o,t,s)},w(e.options,"debugTable"))}},me=()=>({left:[],right:[]}),Tn={getInitialState:e=>({columnPinning:me(),...e}),getDefaultOptions:e=>({onColumnPinningChange:V("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const s=e.getLeafColumns().map(i=>i.id).filter(Boolean);n.setColumnPinning(i=>{var o,l;if(t==="right"){var a,d;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(h=>!(s!=null&&s.includes(h))),right:[...((d=i==null?void 0:i.right)!=null?d:[]).filter(h=>!(s!=null&&s.includes(h))),...s]}}if(t==="left"){var c,g;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(h=>!(s!=null&&s.includes(h))),...s],right:((g=i==null?void 0:i.right)!=null?g:[]).filter(h=>!(s!=null&&s.includes(h)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(h=>!(s!=null&&s.includes(h))),right:((l=i==null?void 0:i.right)!=null?l:[]).filter(h=>!(s!=null&&s.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var i,o,l;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((o=(l=n.options.enableColumnPinning)!=null?l:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:s,right:i}=n.getState().columnPinning,o=t.some(a=>s==null?void 0:s.includes(a)),l=t.some(a=>i==null?void 0:i.includes(a));return o?"left":l?"right":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();return i?(t=(s=n.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,s,i)=>{const o=[...s??[],...i??[]];return t.filter(l=>!o.includes(l.column.id))},w(n.options,"debugRows")),e.getLeftVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,s)=>(s??[]).map(o=>t.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),w(n.options,"debugRows")),e.getRightVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,s)=>(s??[]).map(o=>t.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),w(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,s;return e.setColumnPinning(n?me():(t=(s=e.initialState)==null?void 0:s.columnPinning)!=null?t:me())},e.getIsSomeColumnsPinned=n=>{var t;const s=e.getState().columnPinning;if(!n){var i,o;return!!((i=s.left)!=null&&i.length||(o=s.right)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e.getLeftLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),w(e.options,"debugColumns")),e.getRightLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),w(e.options,"debugColumns")),e.getCenterLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s)=>{const i=[...t??[],...s??[]];return n.filter(o=>!i.includes(o.id))},w(e.options,"debugColumns"))}};function Gn(e){return e||(typeof document<"u"?document:null)}const oe={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},he=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),On={getDefaultColumnDef:()=>oe,getInitialState:e=>({columnSizing:{},columnSizingInfo:he(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:V("columnSizing",e),onColumnSizingInfoChange:V("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,s,i;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:oe.minSize,(s=o??e.columnDef.size)!=null?s:oe.size),(i=e.columnDef.maxSize)!=null?i:oe.maxSize)},e.getStart=v(t=>[t,Z(n,t),n.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((i,o)=>i+o.getSize(),0),w(n.options,"debugColumns")),e.getAfter=v(t=>[t,Z(n,t),n.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((i,o)=>i+o.getSize(),0),w(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:s,...i}=t;return i})},e.getCanResize=()=>{var t,s;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((s=n.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var o;t+=(o=i.column.getSize())!=null?o:0}};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const s=n.getColumn(e.column.id),i=s==null?void 0:s.getCanResize();return o=>{if(!s||!i||(o.persist==null||o.persist(),xe(o)&&o.touches&&o.touches.length>1))return;const l=e.getSize(),a=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[s.id,s.getSize()]],d=xe(o)?Math.round(o.touches[0].clientX):o.clientX,c={},g=(S,y)=>{typeof y=="number"&&(n.setColumnSizingInfo(j=>{var b,F;const D=n.options.columnResizeDirection==="rtl"?-1:1,J=(y-((b=j==null?void 0:j.startOffset)!=null?b:0))*D,C=Math.max(J/((F=j==null?void 0:j.startSize)!=null?F:0),-.999999);return j.columnSizingStart.forEach(R=>{let[M,N]=R;c[M]=Math.round(Math.max(N+N*C,0)*100)/100}),{...j,deltaOffset:J,deltaPercentage:C}}),(n.options.columnResizeMode==="onChange"||S==="end")&&n.setColumnSizing(j=>({...j,...c})))},h=S=>g("move",S),f=S=>{g("end",S),n.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=Gn(t),p={moveHandler:S=>h(S.clientX),upHandler:S=>{u==null||u.removeEventListener("mousemove",p.moveHandler),u==null||u.removeEventListener("mouseup",p.upHandler),f(S.clientX)}},m={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),h(S.touches[0].clientX),!1),upHandler:S=>{var y;u==null||u.removeEventListener("touchmove",m.moveHandler),u==null||u.removeEventListener("touchend",m.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),f((y=S.touches[0])==null?void 0:y.clientX)}},x=Bn()?{passive:!1}:!1;xe(o)?(u==null||u.addEventListener("touchmove",m.moveHandler,x),u==null||u.addEventListener("touchend",m.upHandler,x)):(u==null||u.addEventListener("mousemove",p.moveHandler,x),u==null||u.addEventListener("mouseup",p.upHandler,x)),n.setColumnSizingInfo(S=>({...S,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?he():(t=e.initialState.columnSizingInfo)!=null?t:he())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0}}};let re=null;function Bn(){if(typeof re=="boolean")return re;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return re=e,re}function xe(e){return e.type==="touchstart"}const Un={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:V("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(s=>({...s,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,s;const i=e.columns;return(t=i.length?i.some(o=>o.getIsVisible()):(s=n.getState().columnVisibility)==null?void 0:s[e.id])!=null?t:!0},e.getCanHide=()=>{var t,s;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((s=n.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=v(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),w(n.options,"debugRows")),e.getVisibleCells=v(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,s,i)=>[...t,...s,...i],w(n.options,"debugRows"))},createTable:e=>{const n=(t,s)=>v(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),w(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:t||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function Z(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const qn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Xn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:V("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const s=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,s,i,o;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=n.options.enableGlobalFilter)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>L.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:s}=e.options;return ce(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[s])!=null?n:L[s]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Wn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:V("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var i,o;e.setExpanded(s?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const l=o.split(".");s=Math.max(s,l.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(s=>{var i;const o=s===!0?!0:!!(s!=null&&s[e.id]);let l={};if(s===!0?Object.keys(n.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=s,t=(i=t)!=null?i:!o,!o&&t)return{...l,[e.id]:!0};if(o&&!t){const{[e.id]:a,...d}=l;return d}return s})},e.getIsExpanded=()=>{var t;const s=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:s===!0||s!=null&&s[e.id])},e.getCanExpand=()=>{var t,s,i;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((s=n.options.enableExpanding)!=null?s:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let t=!0,s=e;for(;t&&s.parentId;)s=n.getRow(s.parentId,!0),t=s.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},ye=0,je=10,ve=()=>({pageIndex:ye,pageSize:je}),Jn={getInitialState:e=>({...e,pagination:{...ve(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:V("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=s=>{const i=o=>z(s,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=s=>{var i;e.setPagination(s?ve():(i=e.initialState.pagination)!=null?i:ve())},e.setPageIndex=s=>{e.setPagination(i=>{let o=z(s,i.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,l)),{...i,pageIndex:o}})},e.resetPageIndex=s=>{var i,o;e.setPageIndex(s?ye:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:ye)},e.resetPageSize=s=>{var i,o;e.setPageSize(s?je:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:je)},e.setPageSize=s=>{e.setPagination(i=>{const o=Math.max(1,z(s,i.pageSize)),l=i.pageSize*i.pageIndex,a=Math.floor(l/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=s=>e.setPagination(i=>{var o;let l=z(s,(o=e.options.pageCount)!=null?o:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),e.getPageOptions=v(()=>[e.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((o,l)=>l)),i},w(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:s<i-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},we=()=>({top:[],bottom:[]}),Kn={getInitialState:e=>({rowPinning:we(),...e}),getDefaultOptions:e=>({onRowPinningChange:V("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,s,i)=>{const o=s?e.getLeafRows().map(d=>{let{id:c}=d;return c}):[],l=i?e.getParentRows().map(d=>{let{id:c}=d;return c}):[],a=new Set([...l,e.id,...o]);n.setRowPinning(d=>{var c,g;if(t==="bottom"){var h,f;return{top:((h=d==null?void 0:d.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=d==null?void 0:d.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(t==="top"){var u,p;return{top:[...((u=d==null?void 0:d.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=d==null?void 0:d.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((c=d==null?void 0:d.top)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((g=d==null?void 0:d.bottom)!=null?g:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:i}=n.options;return typeof s=="function"?s(e):(t=s??i)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:s,bottom:i}=n.getState().rowPinning,o=t.some(a=>s==null?void 0:s.includes(a)),l=t.some(a=>i==null?void 0:i.includes(a));return o?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();if(!i)return-1;const o=(t=i==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(l=>{let{id:a}=l;return a});return(s=o==null?void 0:o.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,s;return e.setRowPinning(n?we():(t=(s=e.initialState)==null?void 0:s.rowPinning)!=null?t:we())},e.getIsSomeRowsPinned=n=>{var t;const s=e.getState().rowPinning;if(!n){var i,o;return!!((i=s.top)!=null&&i.length||(o=s.bottom)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e._getPinnedRows=(n,t,s)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(t??[]).map(l=>{const a=e.getRow(l,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(l=>n.find(a=>a.id===l))).filter(Boolean).map(l=>({...l,position:s}))},e.getTopRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),w(e.options,"debugRows")),e.getBottomRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),w(e.options,"debugRows")),e.getCenterRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,s)=>{const i=new Set([...t??[],...s??[]]);return n.filter(o=>!i.has(o.id))},w(e.options,"debugRows"))}},Yn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:V("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const s={...t},i=e.getPreGroupedRowModel().flatRows;return n?i.forEach(o=>{o.getCanSelect()&&(s[o.id]=!0)}):i.forEach(o=>{delete s[o.id]}),s})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const s=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),i={...t};return e.getRowModel().rows.forEach(o=>{Fe(i,o.id,s,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=v(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Se(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getFilteredSelectedRowModel=v(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Se(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getGroupedSelectedRowModel=v(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Se(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let s=!!(n.length&&Object.keys(t).length);return s&&n.some(i=>i.getCanSelect()&&!t[i.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=e.getState();let s=!!n.length;return s&&n.some(i=>!t[i.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,s)=>{const i=e.getIsSelected();n.setRowSelection(o=>{var l;if(t=typeof t<"u"?t:!i,e.getCanSelect()&&i===t)return o;const a={...o};return Fe(a,e.id,t,(l=s==null?void 0:s.selectChildren)!=null?l:!0,n),a})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return De(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Ne(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Ne(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var i;t&&e.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},Fe=(e,n,t,s,i)=>{var o;const l=i.getRow(n,!0);t?(l.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),l.getCanSelect()&&(e[n]=!0)):delete e[n],s&&(o=l.subRows)!=null&&o.length&&l.getCanSelectSubRows()&&l.subRows.forEach(a=>Fe(e,a.id,t,s,i))};function Se(e,n){const t=e.getState().rowSelection,s=[],i={},o=function(l,a){return l.map(d=>{var c;const g=De(d,t);if(g&&(s.push(d),i[d.id]=d),(c=d.subRows)!=null&&c.length&&(d={...d,subRows:o(d.subRows)}),g)return d}).filter(Boolean)};return{rows:o(n.rows),flatRows:s,rowsById:i}}function De(e,n){var t;return(t=n[e.id])!=null?t:!1}function Ne(e,n,t){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let i=!0,o=!1;return e.subRows.forEach(l=>{if(!(o&&!i)&&(l.getCanSelect()&&(De(l,n)?o=!0:i=!1),l.subRows&&l.subRows.length)){const a=Ne(l,n);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const $e=/([0-9]+)/gm,Zn=(e,n,t)=>xt(G(e.getValue(t)).toLowerCase(),G(n.getValue(t)).toLowerCase()),Qn=(e,n,t)=>xt(G(e.getValue(t)),G(n.getValue(t))),es=(e,n,t)=>Le(G(e.getValue(t)).toLowerCase(),G(n.getValue(t)).toLowerCase()),ts=(e,n,t)=>Le(G(e.getValue(t)),G(n.getValue(t))),ns=(e,n,t)=>{const s=e.getValue(t),i=n.getValue(t);return s>i?1:s<i?-1:0},ss=(e,n,t)=>Le(e.getValue(t),n.getValue(t));function Le(e,n){return e===n?0:e>n?1:-1}function G(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function xt(e,n){const t=e.split($e).filter(Boolean),s=n.split($e).filter(Boolean);for(;t.length&&s.length;){const i=t.shift(),o=s.shift(),l=parseInt(i,10),a=parseInt(o,10),d=[l,a].sort();if(isNaN(d[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return t.length-s.length}const Y={alphanumeric:Zn,alphanumericCaseSensitive:Qn,text:es,textCaseSensitive:ts,datetime:ns,basic:ss},is={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:V("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of t){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Y.datetime;if(typeof o=="string"&&(s=!0,o.split($e).length>1))return Y.alphanumeric}return s?Y.text:Y.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,s;if(!e)throw new Error;return ce(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(s=n.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?t:Y[e.columnDef.sortingFn]},e.toggleSorting=(t,s)=>{const i=e.getNextSortingOrder(),o=typeof t<"u"&&t!==null;n.setSorting(l=>{const a=l==null?void 0:l.find(u=>u.id===e.id),d=l==null?void 0:l.findIndex(u=>u.id===e.id);let c=[],g,h=o?t:i==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&s?a?g="toggle":g="add":l!=null&&l.length&&d!==l.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(o||i||(g="remove")),g==="add"){var f;c=[...l,{id:e.id,desc:h}],c.splice(0,c.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else g==="toggle"?c=l.map(u=>u.id===e.id?{...u,desc:h}:u):g==="remove"?c=l.filter(u=>u.id!==e.id):c=[{id:e.id,desc:h}];return c})},e.getFirstSortDir=()=>{var t,s;return((t=(s=e.columnDef.sortDescFirst)!=null?s:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var s,i;const o=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==o&&((s=n.options.enableSortingRemoval)==null||s)&&(!(t&&(i=n.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":o},e.getCanSort=()=>{var t,s;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((s=n.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,s;return(t=(s=e.columnDef.enableMultiSort)!=null?s:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const s=(t=n.getState().sorting)==null?void 0:t.find(i=>i.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,s;return(t=(s=n.getState().sorting)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return s=>{t&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,s;e.setSorting(n?[]:(t=(s=e.initialState)==null?void 0:s.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},os=[Fn,Un,kn,Tn,Nn,$n,qn,Xn,is,Hn,Wn,Jn,Kn,Yn,On];function rs(e){var n,t;const s=[...os,...(n=e._features)!=null?n:[]];let i={_features:s};const o=i._features.reduce((f,u)=>Object.assign(f,u.getDefaultOptions==null?void 0:u.getDefaultOptions(i)),{}),l=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let d={...{},...(t=e.initialState)!=null?t:{}};i._features.forEach(f=>{var u;d=(u=f.getInitialState==null?void 0:f.getInitialState(d))!=null?u:d});const c=[];let g=!1;const h={_features:s,options:{...o,...e},initialState:d,_queue:f=>{c.push(f),g||(g=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();g=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const u=z(f,i.options);i.options=l(u)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,u,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,u,p))!=null?m:`${p?[p.id,u].join("."):u}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,u)=>{let p=(u?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:v(()=>[i.options.defaultColumn],f=>{var u;return f=(u=f)!=null?u:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,x;return(m=(x=p.renderValue())==null||x.toString==null?void 0:x.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},w(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:v(()=>[i._getColumnDefs()],f=>{const u=function(p,m,x){return x===void 0&&(x=0),p.map(S=>{const y=jn(i,S,x,m),j=S;return y.columns=j.columns?u(j.columns,y,x+1):[],y})};return u(f)},w(e,"debugColumns")),getAllFlatColumns:v(()=>[i.getAllColumns()],f=>f.flatMap(u=>u.getFlatColumns()),w(e,"debugColumns")),_getAllFlatColumnsById:v(()=>[i.getAllFlatColumns()],f=>f.reduce((u,p)=>(u[p.id]=p,u),{}),w(e,"debugColumns")),getAllLeafColumns:v(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,u)=>{let p=f.flatMap(m=>m.getLeafColumns());return u(p)},w(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,h);for(let f=0;f<i._features.length;f++){const u=i._features[f];u==null||u.createTable==null||u.createTable(i)}return i}function ls(){return e=>v(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(i,o,l){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const g=Ee(e,e._getRowId(i[c],c,l),i[c],c,o,void 0,l==null?void 0:l.id);if(t.flatRows.push(g),t.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var d;g.originalSubRows=e.options.getSubRows(i[c],c),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=s(g.originalSubRows,o+1,g))}}return a};return t.rows=s(n),t},w(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function as(e){const n=[],t=s=>{var i;n.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function us(e,n,t){return t.options.filterFromLeafRows?ds(e,n,t):cs(e,n,t)}function ds(e,n,t){var s;const i=[],o={},l=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(d,c){c===void 0&&(c=0);const g=[];for(let f=0;f<d.length;f++){var h;let u=d[f];const p=Ee(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(p.columnFilters=u.columnFilters,(h=u.subRows)!=null&&h.length&&c<l){if(p.subRows=a(u.subRows,c+1),u=p,n(u)&&!p.subRows.length){g.push(u),o[u.id]=u,i.push(u);continue}if(n(u)||p.subRows.length){g.push(u),o[u.id]=u,i.push(u);continue}}else u=p,n(u)&&(g.push(u),o[u.id]=u,i.push(u))}return g};return{rows:a(e),flatRows:i,rowsById:o}}function cs(e,n,t){var s;const i=[],o={},l=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(d,c){c===void 0&&(c=0);const g=[];for(let f=0;f<d.length;f++){let u=d[f];if(n(u)){var h;if((h=u.subRows)!=null&&h.length&&c<l){const m=Ee(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);m.subRows=a(u.subRows,c+1),u=m}g.push(u),i.push(u),o[u.id]=u}}return g};return{rows:a(e),flatRows:i,rowsById:o}}function gs(){return e=>v(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,s)=>{if(!n.rows.length||!(t!=null&&t.length)&&!s){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const i=[],o=[];(t??[]).forEach(f=>{var u;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(u=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?u:f.value})});const l=(t??[]).map(f=>f.id),a=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());s&&a&&d.length&&(l.push("__global__"),d.forEach(f=>{var u;o.push({id:f.id,filterFn:a,resolvedValue:(u=a.resolveFilterValue==null?void 0:a.resolveFilterValue(s))!=null?u:s})}));let c,g;for(let f=0;f<n.flatRows.length;f++){const u=n.flatRows[f];if(u.columnFilters={},i.length)for(let p=0;p<i.length;p++){c=i[p];const m=c.id;u.columnFilters[m]=c.filterFn(u,m,c.resolvedValue,x=>{u.columnFiltersMeta[m]=x})}if(o.length){for(let p=0;p<o.length;p++){g=o[p];const m=g.id;if(g.filterFn(u,m,g.resolvedValue,x=>{u.columnFiltersMeta[m]=x})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const h=f=>{for(let u=0;u<l.length;u++)if(f.columnFilters[l[u]]===!1)return!1;return!0};return us(n.rows,h,e)},w(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function fs(e){return n=>v(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:i,pageIndex:o}=t;let{rows:l,flatRows:a,rowsById:d}=s;const c=i*o,g=c+i;l=l.slice(c,g);let h;n.options.paginateExpandedRows?h={rows:l,flatRows:a,rowsById:d}:h=as({rows:l,flatRows:a,rowsById:d}),h.flatRows=[];const f=u=>{h.flatRows.push(u),u.subRows.length&&u.subRows.forEach(f)};return h.rows.forEach(f),h},w(n.options,"debugTable"))}function ps(){return e=>v(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const s=e.getState().sorting,i=[],o=s.filter(d=>{var c;return(c=e.getColumn(d.id))==null?void 0:c.getCanSort()}),l={};o.forEach(d=>{const c=e.getColumn(d.id);c&&(l[d.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=d=>{const c=d.map(g=>({...g}));return c.sort((g,h)=>{for(let u=0;u<o.length;u+=1){var f;const p=o[u],m=l[p.id],x=m.sortUndefined,S=(f=p==null?void 0:p.desc)!=null?f:!1;let y=0;if(x){const j=g.getValue(p.id),b=h.getValue(p.id),F=j===void 0,D=b===void 0;if(F||D){if(x==="first")return F?-1:1;if(x==="last")return F?1:-1;y=F&&D?0:F?x:-x}}if(y===0&&(y=m.sortingFn(g,h,p.id)),y!==0)return S&&(y*=-1),m.invertSorting&&(y*=-1),y}return g.index-h.index}),c.forEach(g=>{var h;i.push(g),(h=g.subRows)!=null&&h.length&&(g.subRows=a(g.subRows))}),c};return{rows:a(t.rows),flatRows:i,rowsById:t.rowsById}},w(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qe(e,n){return e?ms(e)?_.createElement(e,n):e:null}function ms(e){return hs(e)||typeof e=="function"||xs(e)}function hs(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function xs(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function vs(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=_.useState(()=>({current:rs(n)})),[s,i]=_.useState(()=>t.current.initialState);return t.current.setOptions(o=>({...o,...e,state:{...s,...e.state},onStateChange:l=>{i(l),e.onStateChange==null||e.onStateChange(l)}})),t.current}const vt=_.forwardRef(({className:e,...n},t)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:t,className:P("w-full caption-bottom text-sm",e),...n})}));vt.displayName="Table";const wt=_.forwardRef(({className:e,...n},t)=>r.jsx("thead",{ref:t,className:P("[&_tr]:border-b",e),...n}));wt.displayName="TableHeader";const St=_.forwardRef(({className:e,...n},t)=>r.jsx("tbody",{ref:t,className:P("[&_tr:last-child]:border-0",e),...n}));St.displayName="TableBody";const ws=_.forwardRef(({className:e,...n},t)=>r.jsx("tfoot",{ref:t,className:P("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));ws.displayName="TableFooter";const le=_.forwardRef(({className:e,...n},t)=>r.jsx("tr",{ref:t,className:P("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...n}));le.displayName="TableRow";const Ct=_.forwardRef(({className:e,...n},t)=>r.jsx("th",{ref:t,className:P("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n}));Ct.displayName="TableHead";const Me=_.forwardRef(({className:e,...n},t)=>r.jsx("td",{ref:t,className:P("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n}));Me.displayName="TableCell";const Ss=_.forwardRef(({className:e,...n},t)=>r.jsx("caption",{ref:t,className:P("mt-4 text-sm text-muted-foreground",e),...n}));Ss.displayName="TableCaption";function Cs({testId:e}){var D,J;const n=de({from:"/(organizer)/app/tests/details"}),t=e||n.testId,s=X(T.organizer.testResult.getResultsWithScores,{testId:t}),i=_t(T.organizer.testResult.calculateAndStoreScore),[o,l]=_.useState(null),a=async(C,R)=>{l(C);try{for(const M of R.filter(N=>N.finishedAt))await i({testAttemptId:M._id})}catch(M){console.error("Failed to recalculate score:",M),alert("Failed to recalculate score. Please try again.")}finally{l(null)}},d=()=>{if(!s)return;const C=["Rank","Participant","Score","Max Score","Percentage","Completed At","Status"],M=[...s].sort((I,K)=>K.percentage-I.percentage).map((I,K)=>[K+1,I.participantName||`Participant ${I.participantId.slice(-6)}`,I.totalScore,I.maxPossibleScore,`${I.percentage}%`,I.completedAt?new Date(I.completedAt).toLocaleString():"Not completed",I.isCompleted?"Completed":"In Progress"]),N=[C,...M].map(I=>I.map(K=>`"${K}"`).join(",")).join(`
`),Q=new Blob([N],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a");if(O.download!==void 0){const I=URL.createObjectURL(Q);O.setAttribute("href",I),O.setAttribute("download",`test-submissions-${t}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)}},c=()=>{alert("JSON export coming soon!")},g=()=>{alert("PDF export coming soon!")},h=C=>{const M=Date.now()-C,N=Math.floor(M/(1e3*60*60));if(N<24){if(N<1){const Q=Math.floor(M/6e4);return Q<=1?"Just now":`${Q} minutes ago`}return`${N} hour${N===1?"":"s"} ago`}return new Date(C).toLocaleDateString()},f=[{accessorKey:"participantId",header:"Participant",cell:({row:C})=>{const R=C.original.participantName,M=C.original.participantImage,N=C.getValue("participantId");return r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"size-10 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:M?r.jsx("img",{src:M,alt:R||"Participant",className:"size-10 rounded-full object-cover"}):r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:R?R.slice(0,2).toUpperCase():N.slice(-2).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:R||`Participant ${N.slice(-6)}`}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",N.slice(-8)]})]})]})}},{accessorKey:"percentage",header:({column:C})=>r.jsx("div",{className:"text-right pr-6",children:r.jsxs(q,{variant:"ghost",onClick:()=>C.toggleSorting(C.getIsSorted()==="asc"),className:"ml-auto",children:["Score",r.jsx(Oe,{className:"ml-2 h-4 w-4"})]})}),cell:({row:C})=>{const R=C.getValue("percentage"),M=C.original.totalScore,N=C.original.maxPossibleScore;return r.jsxs("div",{className:"text-right pr-6",children:[r.jsxs("div",{className:"font-semibold text-lg",children:[R,"%"]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[M,"/",N]})]})}},{accessorKey:"isCompleted",header:"Status",cell:({row:C})=>{const R=C.getValue("isCompleted");return r.jsx(Ce,{variant:R?"default":"secondary",className:"font-medium",children:R?"Completed":"In Progress"})}},{accessorKey:"completedAt",header:({column:C})=>r.jsxs(q,{variant:"ghost",onClick:()=>C.toggleSorting(C.getIsSorted()==="asc"),children:["Completed",r.jsx(Oe,{className:"ml-2 h-4 w-4"})]}),cell:({row:C})=>{const R=C.getValue("completedAt");return r.jsx("div",{className:"text-sm",children:R?h(R):r.jsx("span",{className:"text-muted-foreground",children:"-"})})}},{id:"actions",enableHiding:!1,cell:({row:C})=>{const R=C.original;return r.jsxs(He,{children:[r.jsx(ze,{asChild:!0,children:r.jsxs(q,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Open menu"}),r.jsx(Gt,{className:"h-4 w-4"})]})}),r.jsxs(ke,{align:"end",children:[r.jsx($t,{children:"Actions"}),r.jsx(W,{onClick:()=>navigator.clipboard.writeText(R.participantId),children:"Copy participant ID"}),r.jsx(Mt,{}),r.jsxs(W,{onClick:()=>a(R.participantId,R.attempts),disabled:o===R.participantId,children:[r.jsx(st,{className:"mr-2 h-4 w-4"}),o===R.participantId?"Recalculating...":"Recalculate Score"]}),r.jsxs(W,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4"}),"Export Individual Results"]})]})]})}}],[u,p]=_.useState([{id:"percentage",desc:!0}]),[m,x]=_.useState([]),[S,y]=_.useState({}),[j,b]=_.useState({}),F=vs({data:s||[],columns:f,onSortingChange:p,onColumnFiltersChange:x,getCoreRowModel:ls(),getPaginationRowModel:fs(),getSortedRowModel:ps(),getFilteredRowModel:gs(),onColumnVisibilityChange:y,onRowSelectionChange:b,state:{sorting:u,columnFilters:m,columnVisibility:S,rowSelection:j}});return s===void 0?r.jsx(tt,{}):!s||s.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-muted-foreground mb-4",children:"No submissions found for this test."})}):r.jsxs("div",{className:"w-full space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(It,{placeholder:"Search participants...",value:((D=F.getColumn("participantId"))==null?void 0:D.getFilterValue())??"",onChange:C=>{var R;return(R=F.getColumn("participantId"))==null?void 0:R.setFilterValue(C.target.value)},className:"max-w-sm"}),r.jsxs(He,{children:[r.jsx(ze,{asChild:!0,children:r.jsxs(q,{variant:"outline",children:[r.jsx(Te,{className:"mr-2 h-4 w-4"}),"Export"]})}),r.jsxs(ke,{align:"end",children:[r.jsxs(W,{onClick:d,children:[r.jsx(Xt,{className:"mr-2 h-4 w-4"}),"Export as CSV"]}),r.jsxs(W,{onClick:c,disabled:!0,children:[r.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Export as JSON"]}),r.jsxs(W,{onClick:g,disabled:!0,children:[r.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Export as PDF"]})]})]})]}),r.jsx("div",{className:"rounded-lg border bg-card",children:r.jsxs(vt,{children:[r.jsx(wt,{children:F.getHeaderGroups().map(C=>r.jsx(le,{className:"border-b bg-muted/50 hover:bg-muted/50",children:C.headers.map(R=>r.jsx(Ct,{className:"h-12 px-4 text-left align-middle font-semibold text-muted-foreground",children:R.isPlaceholder?null:Qe(R.column.columnDef.header,R.getContext())},R.id))},C.id))}),r.jsx(St,{children:(J=F.getRowModel().rows)!=null&&J.length?F.getRowModel().rows.map(C=>r.jsx(le,{className:"border-b transition-colors hover:bg-muted/50","data-state":C.getIsSelected()&&"selected",children:C.getVisibleCells().map(R=>r.jsx(Me,{className:"p-4",children:Qe(R.column.columnDef.cell,R.getContext())},R.id))},C.id)):r.jsx(le,{children:r.jsx(Me,{colSpan:f.length,className:"h-24 px-4 py-6 text-center text-muted-foreground",children:"No submissions found."})})})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",F.getRowModel().rows.length," of ",(s==null?void 0:s.length)||0," submissions"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:"Previous"}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:"Next"})]})]})]})}function Rs(){const{testId:e}=de({from:"/(organizer)/app/tests/details"}),n=X(T.organizer.testSection.getByTestId,{testId:e});return n?r.jsx("div",{className:"flex flex-col gap-4",children:n.map(t=>r.jsx(_s,{testSection:t,showSectionDetail:n.length>1},t._id))}):r.jsx(nt,{children:"Loading sections..."})}function _s({testSection:e,showSectionDetail:n=!1}){const[t,s]=_.useState(!0),i=X(T.organizer.testResult.getSummary,{testId:e.testId,testSectionId:e._id});return i===void 0?r.jsx(nt,{children:"Loading summary..."}):r.jsxs("div",{className:P(n?"border py-2 px-4 rounded-xl":""),children:[n?r.jsxs("div",{className:"flex flex-row items-center justify-between",children:[r.jsx(Ce,{variant:"default",children:e.title||`Section ${e.order}`}),r.jsx(q,{variant:"ghost",size:"icon",onClick:()=>s(o=>!o),children:t?r.jsx(st,{}):r.jsx(Bt,{})})]}):null,r.jsx("div",{className:P("flex flex-col gap-14 mt-4",t?"":"hidden"),children:e.questions.map(o=>{var a;const l=Object.values((i==null?void 0:i[o._id].optionsAnswer)??{}).reduce((d,c)=>d+c,0);return r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"custom-prose max-w-full line-clamp-3 max-w-2xl",dangerouslySetInnerHTML:{__html:o.question}}),r.jsxs(ge,{children:[l," Response"]}),(a=o.options)!=null&&a.length?r.jsx("div",{className:"mt-4 space-y-2",children:o.options.map((d,c)=>{const g=(i==null?void 0:i[o._id].optionsAnswer[d.id])??0,h=l>0?Math.round(g/l*100):0;return r.jsxs("div",{className:"flex flex-row items-center gap-4 w-full",children:[r.jsxs("div",{className:P("border overflow-clip py-1 px-2 flex-1 max-w-md flex flex-row items-center relative gap-2 rounded-md"),children:[r.jsx(Pt.div,{className:P("absolute left-0 h-full bg-secondary -z-10"),initial:{width:0},animate:{width:`${h}%`},transition:{duration:.1}}),r.jsx(Ce,{variant:"outline",className:"capitalize font-semibold",children:String.fromCharCode(98+c)}),r.jsx("div",{className:P("custom-prose max-w-full line-clamp-1 flex-1"),dangerouslySetInnerHTML:{__html:d.text}}),r.jsxs(ge,{children:[h,"%"]})]}),r.jsxs(ge,{children:[g," Response"]}),d.isCorrect?r.jsx(Vt,{className:"size-4 text-muted-foreground"}):null]},d.id)})}):null]},o._id)})})]})}function ys({testId:e}){const n=X(T.organizer.testResult.getResultsWithScores,{testId:e});return n===void 0?r.jsx(tt,{}):!n||n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Results Yet"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"Results will appear here once participants complete the test."})]}):r.jsx("div",{children:r.jsx("div",{className:"space-y-1",children:n.map((t,s)=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"w-8 text-left text-sm font-medium",children:s+1}),r.jsx("div",{className:"size-10 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:t.participantImage?r.jsx("img",{src:t.participantImage,alt:t.participantName||"Participant",className:"size-10 rounded-full object-cover"}):r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t.participantName?t.participantName.slice(0,2).toUpperCase():t.participantId.slice(-2).toUpperCase()})}),r.jsx("p",{className:"font-medium text-foreground",children:t.participantName||`Participant ${t.participantId.slice(-6)}`})]}),r.jsxs("p",{className:"font-semibold text-foreground text-right",children:[t.percentage,"%"]})]},t.participantId))})})}function js({testId:e,onQuestionClick:n}){const t=X(T.organizer.testResult.getComprehensiveAnalytics,{testId:e});if(!t)return r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[1,2,3,4].map(o=>r.jsx("div",{className:"border p-3 animate-pulse",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-3 w-16 bg-muted"}),r.jsx("div",{className:"h-6 w-12 bg-muted"}),r.jsx("div",{className:"h-2 w-full bg-muted"})]})},o))}),r.jsx("div",{className:"border p-3 animate-pulse",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-3 w-24 bg-muted"}),r.jsx("div",{className:"space-y-1",children:[1,2,3].map(o=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-8 bg-muted"}),r.jsx("div",{className:"h-2 flex-1 bg-muted"}),r.jsx("div",{className:"h-2 w-4 bg-muted"})]},o))})]})})]});const s=o=>{const l=Math.floor(o/60),a=o%60;return`${l}m ${a}s`},i=o=>o>=80?"text-success-foreground":o>=60?"text-warning-foreground":"text-destructive";return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"PARTICIPANTS"}),r.jsx(Et,{className:"h-3 w-3 text-muted-foreground"})]}),r.jsx("div",{className:"text-xl font-mono font-bold text-foreground",children:t.overview.totalParticipants}),r.jsxs("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:[t.overview.completedParticipants,"/",t.overview.totalParticipants," done"]}),r.jsx(bt,{value:t.overview.completionRate,className:"h-1"})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"AVG SCORE"}),r.jsx(tn,{className:"h-3 w-3 text-muted-foreground"})]}),r.jsxs("div",{className:`text-xl font-mono font-bold ${i(t.overview.averageScore)}`,children:[t.overview.averageScore,"%"]}),r.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["median: ",t.overview.medianScore,"%"]})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"RANGE"}),r.jsx(Jt,{className:"h-3 w-3 text-muted-foreground"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm font-mono",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-3 w-3 text-destructive"}),r.jsxs("span",{children:[t.overview.lowestScore,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("span",{children:[t.overview.highestScore,"%"]}),r.jsx(Qt,{className:"h-3 w-3 text-green-600"})]})]}),r.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-red-300 to-green-300 mt-2"})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"AVG TIME"}),r.jsx(At,{className:"h-3 w-3 text-muted-foreground"})]}),r.jsx("div",{className:"text-xl font-mono font-bold text-foreground",children:s(t.overview.averageTimeSpent)}),r.jsx("div",{className:"text-xs font-mono text-muted-foreground",children:"per participant"})]})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-mono font-medium text-foreground",children:"SCORE DISTRIBUTION"}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground ml-auto",children:[t.overview.totalParticipants," total"]})]}),r.jsx("div",{className:"space-y-2",children:Object.entries(t.scoreDistribution).map(([o,l])=>{const a=t.overview.totalParticipants>0?l/t.overview.totalParticipants*100:0,d=c=>{const g=parseInt(c.split("-")[0]||c.replace("+",""));return g>=90?"bg-green-600":g>=80?"bg-blue-600":g>=70?"bg-yellow-600":g>=60?"bg-orange-600":"bg-red-600"};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs font-mono w-12 text-muted-foreground",children:[o,"%"]}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[l," participants"]})]}),r.jsxs("span",{className:"text-xs font-mono font-medium text-foreground",children:[Math.round(a),"%"]})]}),r.jsx("div",{className:"h-2 bg-muted",children:r.jsx("div",{className:`h-full ${d(o)} transition-all duration-500`,style:{width:`${a}%`}})})]},o)})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(yt,{className:"h-4 w-4 text-destructive"}),r.jsx("span",{className:"text-sm font-mono font-medium text-foreground",children:"CHALLENGING QUESTIONS"}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground ml-auto",children:["top ",t.hardestQuestions.length]})]}),r.jsx("div",{className:"space-y-2",children:t.hardestQuestions.map((o,l)=>r.jsx("div",{className:"border-l-2 border-l-destructive pl-2 py-1 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>n==null?void 0:n(o.questionId),children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs font-mono bg-muted px-1 text-center min-w-[16px]",children:l+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs font-mono line-clamp-2 custom-prose",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},dangerouslySetInnerHTML:{__html:o.question}}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs font-mono text-destructive",children:[Math.round(o.successRate),"%"]}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[o.correctAttempts,"/",o.totalAttempts]})]})]})]})},o.questionId))})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Lt,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-mono font-medium text-foreground",children:"HIGH-PERFORMING QUESTIONS"}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground ml-auto",children:["top ",t.easiestQuestions.length]})]}),r.jsx("div",{className:"space-y-2",children:t.easiestQuestions.map((o,l)=>r.jsx("div",{className:"border-l-2 border-l-green-600 pl-2 py-1 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>n==null?void 0:n(o.questionId),children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-xs font-mono bg-muted px-1 text-center min-w-[16px]",children:l+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs font-mono line-clamp-2 custom-prose",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},dangerouslySetInnerHTML:{__html:o.question}}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs font-mono text-green-600",children:[Math.round(o.successRate),"%"]}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[o.correctAttempts,"/",o.totalAttempts]})]})]})]})},o.questionId))})]})]}),r.jsxs("div",{className:"border p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-mono font-medium text-foreground",children:"SECTION PERFORMANCE"}),r.jsxs("span",{className:"text-xs font-mono text-muted-foreground ml-auto",children:[t.sectionAnalysis.length," sections"]})]}),r.jsx("div",{className:"space-y-2",children:t.sectionAnalysis.map((o,l)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs font-mono bg-muted px-1 text-center min-w-[16px]",children:l+1}),r.jsx("span",{className:"text-xs font-mono text-foreground truncate",children:o.sectionTitle})]}),r.jsxs("span",{className:`text-xs font-mono font-medium ${o.averageScore>=80?"text-green-600":o.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[o.averageScore,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs font-mono text-muted-foreground mb-1",children:[r.jsxs("span",{children:[o.questionsCount," questions"]}),r.jsxs("span",{children:[o.completedBy," completed"]})]}),r.jsx("div",{className:"h-1 bg-muted",children:r.jsx("div",{className:`h-full transition-all duration-500 ${o.averageScore>=80?"bg-green-600":o.averageScore>=60?"bg-yellow-600":"bg-red-600"}`,style:{width:`${o.averageScore}%`}})})]},o.sectionId))})]})]})}const ri=()=>{const e=de({from:"/(organizer)/app/tests/details"}),n=jt({from:"/app/tests/details"});return r.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[r.jsx(Cn,{className:"col-span-6"}),r.jsxs(Ft,{className:"col-span-6 mt-4",value:e.resultsTab||"leaderboard",onValueChange:t=>{n({search:{...e,resultsTab:t}})},children:[r.jsxs(Nt,{className:"mb-4",children:[r.jsx(ee,{value:"leaderboard",className:"data-[state=active]:bg-secondary data-[state=active]:text-secondary-foreground",children:"Leaderboard"}),r.jsx(ee,{value:"summary",className:"data-[state=active]:bg-secondary data-[state=active]:text-secondary-foreground",children:"Summary"}),r.jsx(ee,{value:"submission",className:"data-[state=active]:bg-secondary data-[state=active]:text-secondary-foreground",children:"Submission"}),r.jsx(ee,{value:"analytics",className:"data-[state=active]:bg-secondary data-[state=active]:text-secondary-foreground",children:"Analytics"})]}),r.jsx(te,{value:"leaderboard",children:r.jsx(ys,{testId:e.testId})}),r.jsx(te,{value:"submission",children:r.jsx(Cs,{})}),r.jsx(te,{value:"summary",children:r.jsx(Rs,{})}),r.jsx(te,{value:"analytics",children:r.jsx(js,{testId:e.testId,onQuestionClick:t=>{n({to:"/app/questions/details",search:{questionId:t}})}})})]})]})};export{ri as default};
